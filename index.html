<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>
      data eye Data Viz 3
  </title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script src="http://code.jquery.com/jquery-1.9.1.js" type="text/javascript"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-3d.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>

  <style>
  #container {
    height: 500px;
    width: 500px;
    margin: 0 auto;
  }
  </style>
</head>

  <body>
    <div id="container"></div>
  </body>

  <script type="text/javascript">

  $(function () {

      // Give the points a 3D feel by adding a radial gradient
      Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function (color) {
          return {
              radialGradient: {
                  cx: 0.4,
                  cy: 0.3,
                  r: 0.5
              },
              stops: [
                  [0, color],
                  [1, Highcharts.Color(color).brighten(-0.2).get('rgb')]
              ]
          };
      });

      // Set up the chart
      var chart = new Highcharts.Chart({
         credits  : {
            enabled: false,
          },
        chart: {
              renderTo: 'container',
              margin: 100,
              marginBottom: 120,
              type: 'scatter',
              options3d: {
                  enabled: true,
                  alpha: 5,
                  beta: 45,
                  depth: 250,
                  viewDistance: 5,
                  fitToPlot: false,
                  frame: {
                      bottom: { size: 1, color: 'rgba(0,0,0,0.02)' },
                      back: { size: 1, color: 'rgba(0,0,0,0.04)' },
                      side: { size: 1, color: 'rgba(0,0,0,0.06)' }
                  }
              }
          },
          title: {
              text: '高梁川流域圏',

          },
          subtitle: {
              text: '情報通信業の特化係数'
          },
          plotOptions: {
              scatter: {
                  width: 10,
                  height: 10,
                  depth: 10
              }
          },
          yAxis: {
              tickPositions: [0, 0.25, 0.5, 0.75, 1],
              min: 0,
              max: 1,
              title: {text: 'y:付加価値額'}
          },
          xAxis: {
            tickPositions: [0, 0.25, 0.5, 0.75, 1],
              min: 0,
              max: 1,
              title: {text: 'x:労働生産性'}
          },
          zAxis: {
            tickPositions: [0, 0.25, 0.5, 0.75, 1],
              min: 0,
              max: 1,
              title: {text: 'z:従業員数'}
          },
          legend: {
              enabled: true
          },
          series: [{
              name: '倉敷市',
              colorByPoint: false,
              data: [[0.11, 0.59, 0.15]],
              marker: {symbol: 'circle'}
              <!-- "circle" ●,"diamond" ♦,"square" ■,"triangle" ▲,"triangle-down" ▼ -->
          },
          {
              name: '笠岡市',
              colorByPoint: false,
              data: [[0.09,0.62,0.12]],
              marker: {symbol: 'circle'}
          },
          {
              name: '井原市',
              colorByPoint: false,
              data: [[0.07,0.64,0.12]],
              marker: {symbol: 'circle'}
          },
          {
              name: '総社市',
              colorByPoint: false,
              data: [[0.04,0.36,0.09]],
              marker: {symbol: 'circle'}
          },
          {
              name: '新見市',
              colorByPoint: false,
              data: [[0.05,0.31,0.12]],
              marker: {symbol: 'circle'}
          },
          {
              name: '浅口市',
              colorByPoint: false,
              data: [[0.04,0.23,0.09]],
              marker: {symbol: 'circle'}
          },
          {
              name: '里庄町',
              colorByPoint: false,
              data: [[0.08,0.31,0.2]],
              marker: {symbol: 'circle'}
          },
          {
              name: '岡山市',
              colorByPoint: false,
              data: [[0.62,0.65,0.8]],
              marker: {symbol: 'circle'}
          },
          {
              name: '福山市',
              colorByPoint: false,
              data: [[0.17,0.43,0.32]],
              marker: {symbol: 'circle'}
          },
          {
              name: '高松市',
              colorByPoint: false,
              data: [[0.75,0.85,0.8]],
              marker: {symbol: 'circle'}
          }
          ]

      });


      // Add mouse events for rotation
      $(chart.container).bind('mousedown.hc touchstart.hc', function (eStart) {
          eStart = chart.pointer.normalize(eStart);

          var posX = eStart.pageX,
              posY = eStart.pageY,
              alpha = chart.options.chart.options3d.alpha,
              beta = chart.options.chart.options3d.beta,
              newAlpha,
              newBeta,
              sensitivity = 5; // lower is more sensitive

          $(document).bind({
              'mousemove.hc touchdrag.hc': function (e) {
                  // Run beta
                  newBeta = beta + (posX - e.pageX) / sensitivity;
                  chart.options.chart.options3d.beta = newBeta;

                  // Run alpha
                  newAlpha = alpha + (e.pageY - posY) / sensitivity;
                  chart.options.chart.options3d.alpha = newAlpha;

                  chart.redraw(false);
              },
              'mouseup touchend': function () {
                  $(document).unbind('.hc');
              }
          });
      });

  });
      </script>
</html>
